<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ - Ø¯Ù„ÙŠÙ„ Ø§Ù„ØµÙŠØ¯ Ø§Ù„Ù„ÙŠØ¨ÙŠ</title>

    <!-- Ø®Ø·ÙˆØ· ÙˆØ£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.38.0/dist/umd/supabase.min.js"></script>

    <!-- Ø§Ù„Ø£Ù†Ù…Ø§Ø· -->
    <link rel="stylesheet" href="assets/css/style.css">

    <style>
        /* Ø£Ù†Ù…Ø§Ø· Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .download-content {
            padding: 80px 0 60px;
            min-height: 100vh;
            background: linear-gradient(135deg, rgba(25, 118, 243, 0.03), rgba(0, 51, 102, 0.02));
        }

        .download-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .download-header h1 {
            font-size: 42px;
            font-weight: 900;
            margin-bottom: 14px;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .download-header p {
            color: var(--sub-text);
            font-size: 18px;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© */
        .app-icon {
            width: 120px;
            height: 120px;
            margin: 0 auto 30px;
            border-radius: 25px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 20px 40px rgba(25, 118, 243, 0.3);
            animation: float 3s ease-in-out infinite;
        }

        .app-icon img {
            width: 150px;
            height: 150px;
            border-radius: 15px;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥ØµØ¯Ø§Ø± */
        .version-info {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px var(--shadow);
            border: 1px solid var(--border);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(25, 118, 243, 0.05);
            border-radius: 10px;
            border-right: 3px solid var(--primary);
        }

        .info-item .label {
            font-weight: 600;
            color: var(--text);
        }

        .info-item .value {
            color: var(--primary);
            font-weight: 700;
        }

        /* Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .download-steps {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px var(--shadow);
            border: 1px solid var(--border);
        }

        .step {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 30px;
            padding: 25px;
            border-radius: 15px;
            background: var(--bg);
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .step.active {
            border-color: var(--primary);
            background: rgba(25, 118, 243, 0.05);
            transform: translateX(-5px);
        }

        .step-number {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-content h3 {
            color: var(--accent);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .step-content p {
            color: var(--sub-text);
            margin-bottom: 15px;
        }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: var(--radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-family: "Tajawal", sans-serif;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .subscribe-btn {
            background: linear-gradient(135deg, #FF0000, #CC0000);
            color: white;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3);
        }

        .subscribe-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 0, 0, 0.4);
        }

        .download-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            box-shadow: 0 5px 15px rgba(25, 118, 243, 0.3);
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(25, 118, 243, 0.4);
        }

        .btn:disabled {
            background: var(--sub-text);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ø¨Ø¶ */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ */
        .subscription-status {
            display: none;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            border-radius: var(--radius);
            margin-top: 15px;
        }

        .status-check {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: white;
            color: #4CAF50;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Ø§Ù„Ù…ÙŠØ²Ø§Øª */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .feature {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--radius);
            text-align: center;
            box-shadow: 0 5px 15px var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px var(--shadow-hover);
        }

        .feature-icon {
            width: 70px;
            height: 70px;
            border-radius: 20px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 28px;
        }

        .feature h3 {
            color: var(--accent);
            margin-bottom: 10px;
        }

        .feature p {
            color: var(--sub-text);
            line-height: 1.6;
        }

        /* Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        /* ========== DOWNLOAD ========== */
        .download {
            padding: 64px 0;
            text-align: center
        }

        .download-buttons {
            display: flex;
            justify-content: center;
            gap: 18px;
            margin-top: 26px;
            flex-wrap: wrap
        }

        .store-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--card-bg);
            color: var(--text);
            padding: 12px 18px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 700;
            box-shadow: 0 8px 18px var(--shadow);
            transition: var(--transition);
            cursor: pointer;
        }

        .store-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 28px var(--shadow-hover)
        }

        .store-icon {
            font-size: 22px
        }

        .store-text span {
            display: block;
            font-size: 12px;
            color: var(--sub-text)
        }

        .store-text strong {
            font-size: 15px
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: scale(0.7);
            transition: var(--transition);
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-content h3 {
            color: var(--accent);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .modal-content p {
            color: var(--sub-text);
            margin-bottom: 25px;
            line-height: 1.6;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-container {
            width: 100%;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            margin: 25px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .secondary-btn {
            background: var(--sub-text);
            color: white;
        }

        .confirm-btn {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
        }

        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ */
        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            padding: 15px 25px;
            border-radius: var(--radius);
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.3);
            z-index: 3000;
            animation: slideInRight 0.3s ease;
        }

        .info-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            padding: 15px 25px;
            border-radius: var(--radius);
            box-shadow: 0 10px 30px rgba(33, 150, 243, 0.3);
            z-index: 3000;
            animation: slideInRight 0.3s ease;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
            }

            to {
                transform: translateX(0);
            }
        }

        /* Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… */
        .system-requirements {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 30px;
            margin: 40px 0;
            box-shadow: 0 10px 30px var(--shadow);
            border: 1px solid var(--border);
        }

        .requirements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .requirement {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(25, 118, 243, 0.05);
            border-radius: 10px;
        }

        .requirement i {
            color: var(--primary);
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .download-header h1 {
                font-size: 32px;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .step {
                flex-direction: column;
                text-align: center;
            }

            .modal-actions {
                flex-direction: column;
            }

            .modal-content {
                padding: 25px;
            }
        }

        /* ========== HERO ========== */
        .hero {
            padding: 70px 0 40px;
            text-align: center;

        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto
        }

        .hero h2 {
            font-size: 42px;
            font-weight: 900;
            margin-bottom: 14px;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent
        }

        .hero p {
            font-size: 18px;
            color: var(--sub-text);
            margin: 0 auto 28px;
            max-width: 720px
        }

        /* screenshots */
        .app-screenshots {
            display: flex;
            justify-content: center;
            gap: 18px;
            flex-wrap: wrap;
            margin-top: 20px
        }

        .screenshot {
            width: 90vw;
            max-width: 350;
            border-radius: 18px;
            box-shadow: 0 14px 30px rgba(0, 0, 0, 0.12);
            transition: var(--transition)
        }

        .screenshot:hover {
            transform: translateY(-10px)
        }
    </style>
</head>

<body>
    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‡ÙŠØ¯Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù‡Ù†Ø§ -->
    <div id="header-container"></div>

    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© -->
    <main class="page-content">
        <div class="container">
            <section class="download-content">
                <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
                <section class="hero" id="home">
                    <div class="download-header">
                        <div class="app-icon">
                            <img src="assist/1.png" alt="Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¯Ù„ÙŠÙ„ Ø§Ù„ØµÙŠØ¯ Ø§Ù„Ù„ÙŠØ¨ÙŠ">
                        </div>

                    </div>
                    <div class="container hero-content">
                        <h2>Ø¯Ù„ÙŠÙ„Ùƒ Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ø¹Ø§Ù„Ù… Ø§Ù„ØµÙŠØ¯ ÙÙŠ Ù„ÙŠØ¨ÙŠØ§</h2>
                        <p>Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø£Ù…Ø§ÙƒÙ† Ø§Ù„ØµÙŠØ¯ØŒ ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø£Ø­ÙˆØ§Ù„ Ø§Ù„Ø·Ù‚Ø³ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø¯ÙˆØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„ØºØ·Ø³ Ø§Ù„Ø­Ø±ØŒ ÙˆØ´Ø§Ø±Ùƒ
                            ØªØ¬Ø§Ø±Ø¨Ùƒ Ù…Ø¹ Ù…Ø¬ØªÙ…Ø¹
                            Ø§Ù„ØµÙŠØ§Ø¯ÙŠÙ†.</p>

                        <div class="app-screenshots" aria-hidden="false">
                            <img src="assist/Untitled-1.jpg" alt="Ø´Ø§Ø´Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ 1" class="screenshot">

                        </div>
                    </div>
                </section>
                <!-- DOWNLOAD -->
                <section class="download" id="download">

                    <div class="section-title">
                        <h2>Ø­Ù…Ù‘Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¢Ù†</h2>
                        <p>Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø¢Ù„Ø§Ù Ø§Ù„ØµÙŠØ§Ø¯ÙŠÙ† Ø§Ù„Ù…Ø­ØªØ±ÙÙŠÙ† ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© ØµÙŠØ¯ Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ©</p>
                    </div>

                    <div class="download-buttons">
                        <a href="#" class="store-btn google-play-btn" aria-label="ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø¬ÙˆØ¬Ù„ Ø¨Ù„Ø§ÙŠ">
                            <i class="fab fa-google-play store-icon"></i>
                            <div class="store-text">
                                <span>Ø­Ù…Ù‘Ù„Ù‡ Ù…Ù†</span>
                                <strong>Google Play</strong>
                            </div>
                        </a>

                        <a href="#" class="store-btn app-store-btn" aria-label="ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø§Ø¨Ù„ Ø³ØªÙˆØ±">
                            <i class="fab fa-apple store-icon"></i>
                            <div class="store-text">
                                <span>Ø­Ù…Ù‘Ù„Ù‡ Ù…Ù†</span>
                                <strong>App Store</strong>
                            </div>
                        </a>
                        <a href="#" class="store-btn direct-download-btn" aria-label="ØªØ­Ù…ÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±">
                            <i class="fa-solid fa-download"></i>
                            <div class="store-text">
                                <span>Ø­Ù…Ù‘Ù„Ù‡ Ù…Ù†</span>
                                <strong>ØªØ­Ù…ÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±</strong>
                            </div>
                        </a>
                    </div>

                </section>
                <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥ØµØ¯Ø§Ø± -->
                <section class="version-info">
                    <h2 style="color: var(--accent); margin-bottom: 20px; text-align: center;">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥ØµØ¯Ø§Ø±</h2>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="label">Ø±Ù‚Ù… Ø§Ù„Ø¥ØµØ¯Ø§Ø±:</span>
                            <span class="value" id="versionNumber">1.0.0</span>
                        </div>
                        <div class="info-item">
                            <span class="label">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ø¯ÙŠØ«:</span>
                            <span class="value" id="updateDate">2024-01-01</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù:</span>
                            <span class="value" id="fileSize">45 MB</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Ø¹Ø¯Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª:</span>
                            <span class="value" id="downloadCount">0</span>
                        </div>
                    </div>
                </section>

                <!-- Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… -->
                <section class="system-requirements">
                    <h2 style="color: var(--accent); margin-bottom: 20px; text-align: center;">Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h2>
                    <div class="requirements-grid">
                        <div class="requirement">
                            <i class="fab fa-android"></i>
                            <div>
                                <strong>Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ 8.0+</strong>
                                <p style="margin: 5px 0 0; color: var(--sub-text); font-size: 14px;">Ø£Ùˆ Ø£Ø­Ø¯Ø«</p>
                            </div>
                        </div>
                        <div class="requirement">
                            <i class="fas fa-memory"></i>
                            <div>
                                <strong>50 MB Ù…Ø³Ø§Ø­Ø©</strong>
                                <p style="margin: 5px 0 0; color: var(--sub-text); font-size: 14px;">Ù…Ø³Ø§Ø­Ø© ØªØ®Ø²ÙŠÙ†</p>
                            </div>
                        </div>
                        <div class="requirement">
                            <i class="fas fa-wifi"></i>
                            <div>
                                <strong>Ø§ØªØµØ§Ù„ Ø¥Ù†ØªØ±Ù†Øª</strong>
                                <p style="margin: 5px 0 0; color: var(--sub-text); font-size: 14px;">Ù„Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
                                </p>
                            </div>
                        </div>
                        <div class="requirement">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <strong>Ø®Ø¯Ù…Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</strong>
                                <p style="margin: 5px 0 0; color: var(--sub-text); font-size: 14px;">Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„ØµÙŠØ¯</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
                <section class="download-steps">
                    <h2 style="color: var(--accent); margin-bottom: 30px; text-align: center;">Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„</h2>

                    <div class="step" id="step1">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3><i class="fab fa-youtube"></i> Ø§Ø´ØªØ±Ùƒ ÙÙŠ Ù‚Ù†Ø§ØªÙ†Ø§ Ø¹Ù„Ù‰ ÙŠÙˆØªÙŠÙˆØ¨</h3>
                            <p>Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¢Ø®Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª ÙˆØ§Ù„Ù†ØµØ§Ø¦Ø­ Ø­ÙˆÙ„ Ø§Ù„ØµÙŠØ¯ ÙˆØ§Ù„ØºØ·Ø³ Ø§Ù„Ø­Ø±</p>
                            <button class="btn subscribe-btn pulse" id="subscribeBtn">
                                <i class="fab fa-youtube"></i> Ø§Ø´ØªØ±Ùƒ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø©
                            </button>
                            <div class="subscription-status" id="subscriptionStatus">
                                <span class="status-check">âœ“</span>
                                <span>ØªÙ… Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</span>
                            </div>
                        </div>
                    </div>

                    <div class="step" id="step2">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3><i class="fas fa-download"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</h3>
                            <p>ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø´ØªØ±Ø§ÙƒÙƒØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</p>
                            <button class="btn download-btn" id="stepDownloadBtn">
                                <i class="fas fa-download"></i> ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢Ù†
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
                <section class="features">
                    <h2 style="color: var(--accent); margin-bottom: 30px; text-align: center;">Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
                    <div class="features-grid">
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-map-marked-alt"></i></div>
                            <h3>Ø®Ø±Ø§Ø¦Ø· Ø£Ù…Ø§ÙƒÙ† Ø§Ù„ØµÙŠØ¯</h3>
                            <p>Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø¯Ø«Ø© Ø¨Ø£ÙØ¶Ù„ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØµÙŠØ¯ Ø¹Ù„Ù‰ Ø·ÙˆÙ„ Ø§Ù„Ø³Ø§Ø­Ù„ Ø§Ù„Ù„ÙŠØ¨ÙŠ</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-fish"></i></div>
                            <h3>Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ø³Ù…Ø§Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠØ©</h3>
                            <p>ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø³Ù…Ø§Ùƒ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙÙŠ Ù„ÙŠØ¨ÙŠØ§ ÙˆÙ…ÙˆØ§Ø³Ù… Ø¸Ù‡ÙˆØ±Ù‡Ø§</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-cloud-sun"></i></div>
                            <h3>ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø¨Ø­Ø±ÙŠ</h3>
                            <p>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ø­Ø±ØŒ Ø³Ø±Ø¹Ø© Ø§Ù„Ø±ÙŠØ§Ø­ØŒ ÙˆØ¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-water"></i></div>
                            <h3>Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù…Ø¯ ÙˆØ§Ù„Ø¬Ø²Ø±</h3>
                            <p>Ø¬Ø¯ÙˆÙ„ Ø¯Ù‚ÙŠÙ‚ Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù…Ø¯ ÙˆØ§Ù„Ø¬Ø²Ø± Ø§Ù„ØªÙŠ ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ù†Ø´Ø§Ø· Ø§Ù„Ø£Ø³Ù…Ø§Ùƒ</p>
                        </div>
                    </div>
                </section>
            </section>
        </div>
    </main>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ -->
    <div class="modal" id="confirmationModal">
        <div class="modal-content">
            <h3><i class="fab fa-youtube"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</h3>
            <p>ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ù‚Ù†Ø§ØªÙ†Ø§ Ø¹Ù„Ù‰ ÙŠÙˆØªÙŠÙˆØ¨ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØŒ Ø«Ù… Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ÙˆØ§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯.</p>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="modal-actions">
                <button class="btn secondary-btn" id="cancelBtn">
                    <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                </button>
                <button class="btn confirm-btn" id="confirmBtn">
                    <i class="fas fa-check"></i> Ù„Ù‚Ø¯ Ø§Ø´ØªØ±ÙƒØª
                </button>
            </div>
        </div>
    </div>

    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙˆØªØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù‡Ù†Ø§ -->
    <div id="footer-container"></div>

    <!-- Ø§Ù„Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª -->
    <script src="shared/config.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
        let appVersion = {
            version: "1.0.0",
            update_date: "2024-01-01",
            file_size: "45 MB"
        };

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function () {
            initSupabase();
            loadAppInfo();
            setupEventListeners();
            checkSubscriptionStatus();
        });

        // ØªÙ‡ÙŠØ¦Ø© Supabase
        function initSupabase() {
            try {
                if (typeof supabase !== 'undefined' && window.supabaseClient) {
                    console.log('âœ… Supabase initialized for download page');
                } else {
                    console.error('âŒ Supabase client not available');
                }
            } catch (err) {
                console.error('âŒ Supabase init error:', err);
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        async function loadAppInfo() {
            try {
                if (!window.supabaseClient) {
                    console.error('âŒ Supabase client not initialized');
                    return;
                }

                // Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø¥ØµØ¯Ø§Ø± Ù…Ù† Ø¬Ø¯ÙˆÙ„ app_updates
                const { data: versionData, error: versionError } = await window.supabaseClient
                    .from('app_updates')
                    .select('*')
                    .order('created_at', { ascending: false })
                    .limit(1);

                if (!versionError && versionData && versionData.length > 0) {
                    const latestVersion = versionData[0];
                    appVersion = {
                        version: latestVersion.version,
                        update_date: latestVersion.created_at,
                        file_size: "45 MB",
                        file_url: latestVersion.download_url
                    };

                    document.getElementById('versionNumber').textContent = appVersion.version;
                    document.getElementById('updateDate').textContent = new Date(appVersion.update_date).toLocaleDateString('ar-SA');
                    document.getElementById('fileSize').textContent = appVersion.file_size;

                    // Ø¬Ù„Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª Ù…Ù† Ø¬Ø¯ÙˆÙ„ download_counts
                    const { data: countData, error: downloadError } = await window.supabaseClient
                        .from('download_counts')
                        .select('count')
                        .eq('version', appVersion.version)
                        .single();

                    if (!downloadError && countData) {
                        document.getElementById('downloadCount').textContent = countData.count;
                    } else {
                        document.getElementById('downloadCount').textContent = '0';
                    }

                } else {
                    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª
                    document.getElementById('versionNumber').textContent = appVersion.version;
                    document.getElementById('updateDate').textContent = appVersion.update_date;
                    document.getElementById('fileSize').textContent = appVersion.file_size;
                    document.getElementById('downloadCount').textContent = '0';
                }

            } catch (error) {
                console.error('âŒ Error loading app info:', error);
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
                document.getElementById('versionNumber').textContent = appVersion.version;
                document.getElementById('updateDate').textContent = appVersion.update_date;
                document.getElementById('fileSize').textContent = appVersion.file_size;
                document.getElementById('downloadCount').textContent = '0';
            }
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function setupEventListeners() {
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ØªØ§Ø¬Ø±
            document.querySelector('.google-play-btn').addEventListener('click', handleStoreDownload);
            document.querySelector('.app-store-btn').addEventListener('click', handleStoreDownload);
            document.querySelector('.direct-download-btn').addEventListener('click', downloadApp);

            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø®Ø·ÙˆØ§Øª
            document.getElementById('subscribeBtn').addEventListener('click', openSubscriptionModal);
            document.getElementById('confirmBtn').addEventListener('click', confirmSubscription);
            document.getElementById('cancelBtn').addEventListener('click', closeSubscriptionModal);
            document.getElementById('stepDownloadBtn').addEventListener('click', downloadApp);
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªØ§Ø¬Ø±
        function handleStoreDownload(event) {
            event.preventDefault();
            const storeName = event.currentTarget.querySelector('strong').textContent;
            showInfoMessage(`Ø³ÙŠØªÙ… ØªÙˆÙÙŠØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ ${storeName} Ù‚Ø±ÙŠØ¨Ø§Ù‹. Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ù‡ØªÙ…Ø§Ù…ÙƒÙ…!`);
        }

        // ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¨Ø§Ø´Ø±
        async function downloadApp(event) {
            if (event) event.preventDefault();

            try {
                if (!window.supabaseClient) {
                    showSuccessMessage('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                    return;
                }

                const version = appVersion.version;

                // ğŸ”¹ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø³Ø®Ø© Ù…Ù† Ø¬Ø¯ÙˆÙ„ app_updates
                const { data: versionData, error: fetchError } = await window.supabaseClient
                    .from('app_updates')
                    .select('download_url, version')
                    .eq('version', version)
                    .single();

                if (fetchError || !versionData) {
                    console.warn('âš ï¸ Version not found in app_updates table');
                    showInfoMessage('Ø§Ù„Ø¥ØµØ¯Ø§Ø± ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.');
                    return;
                }

                const fileUrl = versionData.download_url;
                let newCount = 1;

                // ğŸ”¹ ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª ÙÙŠ Ø¬Ø¯ÙˆÙ„ download_counts
                const { data: countData, error: countError } = await window.supabaseClient
                    .from('download_counts')
                    .select('count')
                    .eq('version', version)
                    .single();

                if (!countError && countData) {
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø³Ø¬Ù„ Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
                    newCount = countData.count + 1;
                    const { error: updateError } = await window.supabaseClient
                        .from('download_counts')
                        .update({ count: newCount })
                        .eq('version', version);

                    if (updateError) {
                        console.error('Update count error:', updateError);
                        showInfoMessage('ØªÙ… Ø§Ù„Ø¨Ø¯Ø¡ Ø¨Ø§Ù„ØªØ­Ù…ÙŠÙ„!');
                    }
                } else {
                    // Ø¥Ù†Ø´Ø§Ø¡ Ø³Ø¬Ù„ Ø¬Ø¯ÙŠØ¯ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
                    const { error: insertError } = await window.supabaseClient
                        .from('download_counts')
                        .insert({
                            version: version,
                            count: 1
                        });

                    if (insertError) {
                        console.error('Insert count error:', insertError);
                        showInfoMessage('ØªÙ… Ø§Ù„Ø¨Ø¯Ø¡ Ø¨Ø§Ù„ØªØ­Ù…ÙŠÙ„!');
                    }
                }

                // ğŸ”¹ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
                document.getElementById('downloadCount').textContent = newCount;

                // ğŸ”¹ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
                startDirectDownload(fileUrl);

            } catch (error) {
                console.error('âŒ Error downloading app:', error);
                showSuccessMessage('Ø¨Ø¯Ø£ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚! Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¨Ø¯Ø£ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ†Ø²ÙŠÙ„Ø§Øª.');
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
        function startDirectDownload(fileUrl) {
            if (!fileUrl) {
                alert("Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.");
                return;
            }

            try {
                // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„ Ù…Ø®ÙÙŠ
                const link = document.createElement("a");
                link.href = fileUrl;
                link.download = "Ø¯Ù„ÙŠÙ„_Ø§Ù„ØµÙŠØ¯_Ø§Ù„Ù„ÙŠØ¨ÙŠ_" + appVersion.version + ".apk";
                link.target = "_blank";
                link.style.display = "none";

                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„ØµÙØ­Ø© ÙˆØ§Ù„Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);

                showSuccessMessage('Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ù…ÙŠÙ„! ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ†Ø²ÙŠÙ„Ø§Øª ÙÙŠ Ù…ØªØµÙØ­Ùƒ.');

            } catch (error) {
                console.error('Download error:', error);
                // Ø¨Ø¯ÙŠÙ„: ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
                window.open(fileUrl, '_blank');
            }
        }

        // ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
        function openSubscriptionModal() {
            document.getElementById('confirmationModal').classList.add('active');

            const channelId = "UCY1cREXhxupNmNPHbX6ESMg";
            const youtubeAppUrl = "vnd.youtube://channel/" + channelId;
            const youtubeWebUrl = "https://www.youtube.com/channel/" + channelId + "?sub_confirmation=1";

            // Ù…Ø­Ø§ÙˆÙ„Ø© ÙØªØ­ ØªØ·Ø¨ÙŠÙ‚ ÙŠÙˆØªÙŠÙˆØ¨
            const now = Date.now();
            window.location.href = youtubeAppUrl;

            // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ Ø§ÙØªØ­ Ø§Ù„Ù…ØªØµÙØ­
            setTimeout(() => {
                if (Date.now() - now < 2000) {
                    window.open(youtubeWebUrl, '_blank');
                }
            }, 1500);

            // ØªØ¹Ø·ÙŠÙ„ Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ù…Ø¤Ù‚ØªØ§Ù‹
            const confirmBtn = document.getElementById('confirmBtn');
            confirmBtn.disabled = true;
            confirmBtn.innerHTML = '<i class="fas fa-clock"></i> Ø§Ù†ØªØ¸Ø±...';

            // Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            const progressBar = document.getElementById('progressBar');
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 1;
                progressBar.style.width = `${progress}%`;

                if (progress >= 100) {
                    clearInterval(progressInterval);
                    confirmBtn.disabled = false;
                    confirmBtn.innerHTML = '<i class="fas fa-check"></i> Ø£Ù†Ø§ Ø§Ø´ØªØ±ÙƒØª';
                }
            }, 200);
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
        function closeSubscriptionModal() {
            document.getElementById('confirmationModal').classList.remove('active');
        }

        // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
        function confirmSubscription() {
            localStorage.setItem('youtube_subscribed', 'true');
            localStorage.setItem('subscription_date', new Date().toISOString());
            closeSubscriptionModal();
            activateDownload();
            showSuccessMessage('ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.');
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
        function checkSubscriptionStatus() {
            if (localStorage.getItem('youtube_subscribed') === 'true') {
                activateDownload();
            }
        }

        // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function activateDownload() {
            document.getElementById('subscriptionStatus').style.display = 'flex';
            document.getElementById('subscribeBtn').style.display = 'none';
            document.getElementById('step2').classList.add('active');
        }

        // Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
        function showSuccessMessage(message) {
            const messageElement = document.createElement('div');
            messageElement.className = 'success-message';
            messageElement.innerHTML = `
            <i class="fas fa-check-circle" style="margin-left: 8px;"></i>
            ${message}
        `;
            document.body.appendChild(messageElement);
            setTimeout(() => messageElement.remove(), 5000);
        }

        // Ø±Ø³Ø§Ù„Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
        function showInfoMessage(message) {
            const messageElement = document.createElement('div');
            messageElement.className = 'info-message';
            messageElement.innerHTML = `
            <i class="fas fa-info-circle" style="margin-left: 8px;"></i>
            ${message}
        `;
            document.body.appendChild(messageElement);
            setTimeout(() => messageElement.remove(), 5000);
        }
    </script>
</body>

</html>